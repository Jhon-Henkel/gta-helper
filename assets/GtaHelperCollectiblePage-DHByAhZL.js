import{_ as A}from"./GtaHelperPage.vue_vue_type_script_setup_true_lang-C3uo90sG.js";import{_ as D}from"./GtaHelperHeader.vue_vue_type_script_setup_true_lang-CUKpa5tl.js";import{_ as V}from"./GtaHelperCard.vue_vue_type_script_setup_true_lang-D_jhoAj4.js";import{d as F,p as y,q as U,o as m,g as w,a as l,w as e,u as t,I,r as H,s as p,b as u,t as i,v,i as x,l as k,F as q,h as E,c as b,x as T,j,y as B,e as L,z as N,A as O,_ as G,m as z,n as M}from"./index-DnRoAd1w.js";const J={class:"ion-padding",slot:"content"},K=F({__name:"GtaHelperCollectiblePartView",props:{part:{type:String,required:!0},imageFileName:{type:String,required:!0},service:{type:Object,required:!0},onlyUnchecked:{type:Boolean,required:!1,default:!1},showNumber:{type:Boolean,required:!1,default:!0},showItemsCount:{type:Boolean,required:!1,default:!0}},emits:["update"],setup(a,{emit:h}){const c=a,C=h,r=y(0),o=y(c.service.getItemsPart(c.part));function S(f){o.value.forEach(s=>{s.number===f.number&&(s.collected=!s.collected)}),d()}function g(f){o.value.forEach(s=>{s.collected=f}),d()}function d(){c.service.updateItemsPart(c.part,o.value),_(),C("update",o.value)}function _(){r.value=0,o.value.forEach(f=>{f.collected&&r.value++})}return U(()=>{_()}),(f,s)=>(m(),w(q,null,[l(t(x),{slot:"header",color:"light"},{default:e(()=>[l(t(I),{slot:"start"},{default:e(()=>[H(f.$slots,"default",{},void 0,!0)]),_:3}),p(l(t(I),null,{default:e(()=>[u(i(r.value)+"/"+i(o.value.length),1)]),_:1},512),[[v,a.showItemsCount]])]),_:3}),k("div",J,[(m(!0),w(q,null,E(o.value,(n,P)=>p((m(),b(t(L),{key:P},{default:e(()=>[l(t(x),null,{default:e(()=>{var $;return[l(t(T),{slot:"start",checked:n.collected,onIonChange:Z=>S(n)},null,8,["checked","onIonChange"]),p(l(t(j),{src:($=n.imageFileName)!=null?$:"",class:"item-image"},null,8,["src"]),[[v,n.imageFileName]]),l(t(I),null,{default:e(()=>[a.showNumber?(m(),b(t(I),{key:0},{default:e(()=>[u(i(n.number)+" ",1),p(l(t(B),null,{default:e(()=>[u(" - "+i(n.description),1)]),_:2},1536),[[v,n.description.length>0]])]),_:2},1024)):(m(),b(t(I),{key:1},{default:e(()=>[p(l(t(B),null,{default:e(()=>[u(i(n.description),1)]),_:2},1536),[[v,n.description.length>0]])]),_:2},1024))]),_:2},1024)]}),_:2},1024)]),_:2},1024)),[[v,!a.onlyUnchecked||a.onlyUnchecked&&!n.collected]])),128)),p(l(t(N),{color:"primary",expand:"block",fill:"outline",class:"ion-padding-top",onClick:s[0]||(s[0]=n=>g(!0))},{default:e(()=>[u(" Marcar todos ")]),_:1},512),[[v,r.value<o.value.length]]),p(l(t(N),{color:"danger",expand:"block",fill:"outline",class:O(r.value<o.value.length?"":"ion-padding-top"),onClick:s[1]||(s[1]=n=>g(!1))},{default:e(()=>[u(" Desmarcar todos ")]),_:1},8,["class"]),[[v,r.value>0]])])],64))}}),Q=G(K,[["__scopeId","data-v-6519d1ad"]]),R={style:{overflow:"auto","-webkit-overflow-scrolling":"touch"}},W=["src"],X={class:"ion-text-end"},Y=F({__name:"GtaHelperCollectiblePage",props:{totalItems:{type:Number,required:!0},baseDirectory:{type:String,required:!0},service:{type:Object,required:!0},items:{type:Array,required:!0},headerTitle:{type:String,required:!0},showNumber:{type:Boolean,required:!1,default:!0},mapImageFileName:{type:String,required:!0},showItemsCount:{type:Boolean,required:!1,default:!0},itemEnum:{type:String,required:!0}},setup(a){const h=a,c=y(),C=y(),r=y(!0);function o(){c.value=h.service.getSumOfCollectedItems(h.itemEnum),C.value=parseInt(String(c.value/h.totalItems*100))}return U(()=>{o()}),(S,g)=>(m(),b(A,null,{header:e(()=>[l(D,{title:a.headerTitle},null,8,["title"])]),content:e(()=>[l(V,null,{title:e(()=>[u(" Coletado ")]),subtitle:e(()=>[u(i(c.value)+"/"+i(a.totalItems)+" ("+i(C.value)+"%) ",1)]),_:1}),k("div",R,[k("iframe",{src:a.mapImageFileName,width:"100%",height:"300px"},null,8,W)]),k("div",X,[l(t(N),{fill:"clear",onClick:g[0]||(g[0]=d=>r.value=!r.value)},{default:e(()=>[u(i(r.value?"Todos":"Somente NÃ£o Coletados"),1)]),_:1})]),l(t(z),null,{default:e(()=>[(m(!0),w(q,null,E(a.items,(d,_)=>(m(),b(t(M),{key:_,value:d.accordion},{default:e(()=>[l(Q,{"image-file-name":"".concat(a.baseDirectory).concat(d.imageFileName),part:d.part,service:a.service,onlyUnchecked:r.value,"show-number":a.showNumber,"show-items-count":a.showItemsCount,onUpdate:o},{default:e(()=>[u(i(d.title),1)]),_:2},1032,["image-file-name","part","service","onlyUnchecked","show-number","show-items-count"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1}))}}),oe=G(Y,[["__scopeId","data-v-a94e1a9c"]]);export{oe as G};
