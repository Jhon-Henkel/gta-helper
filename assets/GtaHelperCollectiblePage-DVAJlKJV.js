import{_ as P}from"./GtaHelperPage.vue_vue_type_script_setup_true_lang-DdGYd253.js";import{_ as A}from"./GtaHelperHeader.vue_vue_type_script_setup_true_lang--6yh1CAN.js";import{_ as V}from"./GtaHelperCard.vue_vue_type_script_setup_true_lang-CpiXmwSA.js";import{d as F,p as g,q as U,o as f,g as w,a,w as e,u as t,I as y,r as H,s as p,b as u,t as c,v,i as x,l as q,F as N,h as D,c as b,x as T,j,y as B,e as z,z as $,A as L,_ as E,m as O,n as M}from"./index-C5H2N25S.js";const J={class:"ion-padding",slot:"content"},K=F({__name:"GtaHelperCollectiblePartView",props:{part:{type:String,required:!0},imageFileName:{type:String,required:!0},service:{type:Object,required:!0},onlyUnchecked:{type:Boolean,required:!1,default:!1},showNumber:{type:Boolean,required:!1,default:!0},showItemsCount:{type:Boolean,required:!1,default:!0}},emits:["update"],setup(l,{emit:h}){const d=l,C=h,r=g(0),o=g(d.service.getItemsPart(d.part));function _(i){o.value.forEach(s=>{s.number===i.number&&(s.collected=!s.collected)}),I()}function k(i){o.value.forEach(s=>{s.collected=i}),I()}function I(){d.service.updateItemsPart(d.part,o.value),m(),C("update",o.value)}function m(){r.value=0,o.value.forEach(i=>{i.collected&&r.value++})}return U(()=>{m()}),(i,s)=>(f(),w(N,null,[a(t(x),{slot:"header",color:"light"},{default:e(()=>[a(t(y),{slot:"start"},{default:e(()=>[H(i.$slots,"default",{},void 0,!0)]),_:3}),p(a(t(y),null,{default:e(()=>[u(c(r.value)+"/"+c(o.value.length),1)]),_:1},512),[[v,l.showItemsCount]])]),_:3}),q("div",J,[(f(!0),w(N,null,D(o.value,(n,G)=>p((f(),b(t(z),{key:G},{default:e(()=>[a(t(x),null,{default:e(()=>{var S;return[a(t(T),{slot:"start",checked:n.collected,onIonChange:Y=>_(n)},null,8,["checked","onIonChange"]),p(a(t(j),{src:(S=n.imageFileName)!=null?S:"",class:"item-image"},null,8,["src"]),[[v,n.imageFileName]]),a(t(y),null,{default:e(()=>[l.showNumber?(f(),b(t(y),{key:0},{default:e(()=>[u(c(n.number)+" ",1),p(a(t(B),null,{default:e(()=>[u(" - "+c(n.description),1)]),_:2},1536),[[v,n.description.length>0]])]),_:2},1024)):(f(),b(t(y),{key:1},{default:e(()=>[p(a(t(B),null,{default:e(()=>[u(c(n.description),1)]),_:2},1536),[[v,n.description.length>0]])]),_:2},1024))]),_:2},1024)]}),_:2},1024)]),_:2},1024)),[[v,!l.onlyUnchecked||l.onlyUnchecked&&!n.collected]])),128)),p(a(t($),{color:"primary",expand:"block",fill:"outline",class:"ion-padding-top",onClick:s[0]||(s[0]=n=>k(!0))},{default:e(()=>[u(" Marcar todos ")]),_:1},512),[[v,r.value<o.value.length]]),p(a(t($),{color:"danger",expand:"block",fill:"outline",class:L(r.value<o.value.length?"":"ion-padding-top"),onClick:s[1]||(s[1]=n=>k(!1))},{default:e(()=>[u(" Desmarcar todos ")]),_:1},8,["class"]),[[v,r.value>0]])])],64))}}),Q=E(K,[["__scopeId","data-v-6519d1ad"]]),R=["src"],W={class:"ion-text-end"},X=F({__name:"GtaHelperCollectiblePage",props:{totalItems:{type:Number,required:!0},baseDirectory:{type:String,required:!0},service:{type:Object,required:!0},items:{type:Array,required:!0},headerTitle:{type:String,required:!0},showNumber:{type:Boolean,required:!1,default:!0},mapImageFileName:{type:String,required:!0},showItemsCount:{type:Boolean,required:!1,default:!0},itemEnum:{type:String,required:!0}},setup(l){const h=l,d=g(),C=g(),r=g(!0),o=g("");function _(){d.value=h.service.getSumOfCollectedItems(h.itemEnum),C.value=parseInt(String(d.value/h.totalItems*100))}return U(()=>{_(),o.value="".concat(h.mapImageFileName,"?t=").concat(Date.now())}),(k,I)=>(f(),b(P,null,{header:e(()=>[a(A,{title:l.headerTitle},null,8,["title"])]),content:e(()=>[a(V,null,{title:e(()=>[u(" Coletado ")]),subtitle:e(()=>[u(c(d.value)+"/"+c(l.totalItems)+" ("+c(C.value)+"%) ",1)]),_:1}),q("iframe",{src:o.value,width:"100%",height:"300px",loading:"lazy",allowfullscreen:"",class:"iframe"},null,8,R),q("div",W,[a(t($),{fill:"clear",onClick:I[0]||(I[0]=m=>r.value=!r.value)},{default:e(()=>[u(c(r.value?"Todos":"Somente NÃ£o Coletados"),1)]),_:1})]),a(t(O),null,{default:e(()=>[(f(!0),w(N,null,D(l.items,(m,i)=>(f(),b(t(M),{key:i,value:m.accordion},{default:e(()=>[a(Q,{"image-file-name":"".concat(l.baseDirectory).concat(m.imageFileName),part:m.part,service:l.service,onlyUnchecked:r.value,"show-number":l.showNumber,"show-items-count":l.showItemsCount,onUpdate:_},{default:e(()=>[u(c(m.title),1)]),_:2},1032,["image-file-name","part","service","onlyUnchecked","show-number","show-items-count"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1}))}}),le=E(X,[["__scopeId","data-v-5bfe96e4"]]);export{le as G};
