import{_ as E}from"./GtaHelperPage.vue_vue_type_script_setup_true_lang-DiiTXj6P.js";import{_ as O}from"./GtaHelperHeader.vue_vue_type_script_setup_true_lang-CdpCXlca.js";import{_ as V}from"./GtaHelperCard.vue_vue_type_script_setup_true_lang-CsXA5zux.js";import{d as B,p as b,q as G,s as U,v as L,o as p,g as S,a,w as t,u as l,I as h,r as j,b as u,t as i,i as $,l as D,j as A,F as C,h as F,c as y,x as _,y as H,z as k,A as x,e as J,B as T,m as z,n as Y}from"./index-DDnqC3M-.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Q=31536e6,se={getStorageItem:function(e){const r=localStorage.getItem(e);if(r){const o=JSON.parse(r);if(new Date().getTime()<o.expiry)return o.value;this.removeStorageItems(e)}return null},setStorageItem:function(e,r,o=null){const g=o!=null?o:Q;localStorage.setItem(e,JSON.stringify({value:r,expiry:new Date().getTime()+g}))},removeStorageItems:function(...e){e.forEach(r=>{localStorage.removeItem(r)})}},re={sanAndreas:{collectibles:{graffiti:"./public/assets/images/sanAndreas/collectibles/graffiti/",photos:"./public/assets/images/sanAndreas/collectibles/photos/",horseShoes:"./public/assets/images/sanAndreas/collectibles/horse-shoes/",oysters:"./public/assets/images/sanAndreas/collectibles/oysters/",vehicles:"./public/assets/images/sanAndreas/collectibles/vehicles/"}}},R={class:"ion-padding",slot:"content"},W=B({__name:"GtaHelperCollectiblePartView",props:{part:{type:String,required:!0},imageFileName:{type:String,required:!0},service:{type:Object,required:!0},onlyUnchecked:{type:Boolean,required:!1,default:!1},showNumber:{type:Boolean,required:!1,default:!0}},emits:["update"],setup(e,{emit:r}){const o=e,g=r,m=b(0),n=G(()=>b(o.service.getItemsPart(o.part)).value.map(d=>({...d})));function N(d){n.value.forEach(c=>{c.number===d.number&&(c.collected=!c.collected)}),f()}function v(d){n.value.forEach(c=>{c.collected=d}),f()}function f(){o.service.updateItemsPart(o.part,n.value),I(),g("update",n.value)}function I(){m.value=0,n.value.forEach(d=>{d.collected&&m.value++})}return U(()=>{I()}),(d,c)=>{const w=L("ion-button");return p(),S(C,null,[a(l($),{slot:"header",color:"light"},{default:t(()=>[a(l(h),{slot:"start"},{default:t(()=>[j(d.$slots,"default",{},void 0,!0)]),_:3}),a(l(h),null,{default:t(()=>[u(i(m.value)+"/"+i(n.value.length),1)]),_:1})]),_:3}),D("div",R,[a(l(A),{src:e.imageFileName},null,8,["src"]),(p(!0),S(C,null,F(n.value,(s,P)=>(p(),y(l(J),{key:P},{default:t(()=>[_(a(l($),null,{default:t(()=>{var q;return[a(l(H),{slot:"start",checked:s.collected,onClick:M=>N(s)},null,8,["checked","onClick"]),_(a(l(A),{src:(q=s.imageFileName)!=null?q:"",class:"item-image"},null,8,["src"]),[[k,s.imageFileName]]),a(l(h),null,{default:t(()=>[e.showNumber?(p(),y(l(h),{key:0},{default:t(()=>[u(i(s.number)+" ",1),_(a(l(x),null,{default:t(()=>[u(" - "+i(s.description),1)]),_:2},1536),[[k,s.description.length>0]])]),_:2},1024)):(p(),y(l(h),{key:1},{default:t(()=>[_(a(l(x),null,{default:t(()=>[u(i(s.description),1)]),_:2},1536),[[k,s.description.length>0]])]),_:2},1024))]),_:2},1024)]}),_:2},1536),[[k,!e.onlyUnchecked||e.onlyUnchecked&&!s.collected]])]),_:2},1024))),128)),a(w,{color:"primary",expand:"block",fill:"outline",class:"ion-padding-top",onClick:c[0]||(c[0]=s=>v(!0))},{default:t(()=>[u(" Marcar todos ")]),_:1}),a(w,{color:"danger",expand:"block",fill:"outline",onClick:c[1]||(c[1]=s=>v(!1))},{default:t(()=>[u(" Desmarcar todos ")]),_:1})])],64)}}}),X=K(W,[["__scopeId","data-v-88c64678"]]),Z={class:"ion-text-end"},ne=B({__name:"GtaHelperCollectiblePage",props:{totalItems:{type:Number,required:!0},baseDirectory:{type:String,required:!0},service:{type:Object,required:!0},items:{type:Array,required:!0},headerTitle:{type:String,required:!0},showNumber:{type:Boolean,required:!1,default:!0}},setup(e){const r=e,o=b(),g=b(),m=b(!0);function n(){o.value=r.service.getSumOfCollectedItems(),g.value=parseInt(String(o.value/r.totalItems*100))}return U(()=>{n()}),(N,v)=>(p(),y(E,null,{header:t(()=>[a(O,{title:e.headerTitle},null,8,["title"])]),content:t(()=>[a(V,null,{title:t(()=>[u(" Coletado ")]),subtitle:t(()=>[u(i(o.value)+"/"+i(e.totalItems)+" ("+i(g.value)+"%) ",1)]),_:1}),D("div",Z,[a(l(T),{fill:"clear",onClick:v[0]||(v[0]=f=>m.value=!m.value)},{default:t(()=>[u(i(m.value?"Todos":"Somente NÃ£o Coletados"),1)]),_:1})]),a(l(z),null,{default:t(()=>[(p(!0),S(C,null,F(e.items,(f,I)=>(p(),y(l(Y),{key:I,value:f.accordion},{default:t(()=>[a(X,{"image-file-name":"".concat(e.baseDirectory).concat(f.imageFileName),part:f.part,service:e.service,onlyUnchecked:m.value,"show-number":e.showNumber,onUpdate:n},{default:t(()=>[u(i(f.title),1)]),_:2},1032,["image-file-name","part","service","onlyUnchecked","show-number"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1}))}});export{ne as _,re as d,se as u};
