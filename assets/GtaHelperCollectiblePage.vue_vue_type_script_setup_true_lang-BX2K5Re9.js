import{_ as D}from"./GtaHelperPage.vue_vue_type_script_setup_true_lang-B9YAxVPn.js";import{_ as P}from"./GtaHelperHeader.vue_vue_type_script_setup_true_lang-Bkafu87h.js";import{_ as V}from"./GtaHelperCard.vue_vue_type_script_setup_true_lang-Byp-9sT3.js";import{d as F,p as I,q as U,o as m,g as _,a as l,w as e,u as t,I as y,r as G,s as p,b as s,t as i,v,i as x,l as C,F as q,h as E,c as b,x as T,j,y as B,e as H,z as N,A as L,_ as O,m as z,n as M}from"./index-CiS0gKJx.js";const J={class:"ion-padding",slot:"content"},K=F({__name:"GtaHelperCollectiblePartView",props:{part:{type:String,required:!0},imageFileName:{type:String,required:!0},service:{type:Object,required:!0},onlyUnchecked:{type:Boolean,required:!1,default:!1},showNumber:{type:Boolean,required:!1,default:!0},showItemsCount:{type:Boolean,required:!1,default:!0}},emits:["update"],setup(a,{emit:h}){const c=a,k=h,r=I(0),o=I(c.service.getItemsPart(c.part));function S(f){o.value.forEach(u=>{u.number===f.number&&(u.collected=!u.collected)}),d()}function g(f){o.value.forEach(u=>{u.collected=f}),d()}function d(){c.service.updateItemsPart(c.part,o.value),w(),k("update",o.value)}function w(){r.value=0,o.value.forEach(f=>{f.collected&&r.value++})}return U(()=>{w()}),(f,u)=>(m(),_(q,null,[l(t(x),{slot:"header",color:"light"},{default:e(()=>[l(t(y),{slot:"start"},{default:e(()=>[G(f.$slots,"default",{},void 0,!0)]),_:3}),p(l(t(y),null,{default:e(()=>[s(i(r.value)+"/"+i(o.value.length),1)]),_:1},512),[[v,a.showItemsCount]])]),_:3}),C("div",J,[(m(!0),_(q,null,E(o.value,(n,A)=>p((m(),b(t(H),{key:A},{default:e(()=>[l(t(x),null,{default:e(()=>{var $;return[l(t(T),{slot:"start",checked:n.collected,onIonChange:Y=>S(n)},null,8,["checked","onIonChange"]),p(l(t(j),{src:($=n.imageFileName)!=null?$:"",class:"item-image"},null,8,["src"]),[[v,n.imageFileName]]),l(t(y),null,{default:e(()=>[a.showNumber?(m(),b(t(y),{key:0},{default:e(()=>[s(i(n.number)+" ",1),p(l(t(B),null,{default:e(()=>[s(" - "+i(n.description),1)]),_:2},1536),[[v,n.description.length>0]])]),_:2},1024)):(m(),b(t(y),{key:1},{default:e(()=>[p(l(t(B),null,{default:e(()=>[s(i(n.description),1)]),_:2},1536),[[v,n.description.length>0]])]),_:2},1024))]),_:2},1024)]}),_:2},1024)]),_:2},1024)),[[v,!a.onlyUnchecked||a.onlyUnchecked&&!n.collected]])),128)),p(l(t(N),{color:"primary",expand:"block",fill:"outline",class:"ion-padding-top",onClick:u[0]||(u[0]=n=>g(!0))},{default:e(()=>[s(" Marcar todos ")]),_:1},512),[[v,r.value<o.value.length]]),p(l(t(N),{color:"danger",expand:"block",fill:"outline",class:L(r.value<o.value.length?"":"ion-padding-top"),onClick:u[1]||(u[1]=n=>g(!1))},{default:e(()=>[s(" Desmarcar todos ")]),_:1},8,["class"]),[[v,r.value>0]])])],64))}}),Q=O(K,[["__scopeId","data-v-6519d1ad"]]),R={style:{overflow:"auto","-webkit-overflow-scrolling":"touch"}},W=["src"],X={class:"ion-text-end"},ae=F({__name:"GtaHelperCollectiblePage",props:{totalItems:{type:Number,required:!0},baseDirectory:{type:String,required:!0},service:{type:Object,required:!0},items:{type:Array,required:!0},headerTitle:{type:String,required:!0},showNumber:{type:Boolean,required:!1,default:!0},mapImageFileName:{type:String,required:!0},showItemsCount:{type:Boolean,required:!1,default:!0},itemEnum:{type:String,required:!0}},setup(a){const h=a,c=I(),k=I(),r=I(!0);function o(){c.value=h.service.getSumOfCollectedItems(h.itemEnum),k.value=parseInt(String(c.value/h.totalItems*100))}return U(()=>{o()}),(S,g)=>(m(),b(D,null,{header:e(()=>[l(P,{title:a.headerTitle},null,8,["title"])]),content:e(()=>[l(V,null,{title:e(()=>[s(" Coletado ")]),subtitle:e(()=>[s(i(c.value)+"/"+i(a.totalItems)+" ("+i(k.value)+"%) ",1)]),_:1}),C("div",R,[C("iframe",{src:a.mapImageFileName,width:"100%",height:"300px"},null,8,W)]),C("div",X,[l(t(N),{fill:"clear",onClick:g[0]||(g[0]=d=>r.value=!r.value)},{default:e(()=>[s(i(r.value?"Todos":"Somente NÃ£o Coletados"),1)]),_:1})]),l(t(z),null,{default:e(()=>[(m(!0),_(q,null,E(a.items,(d,w)=>(m(),b(t(M),{key:w,value:d.accordion},{default:e(()=>[l(Q,{"image-file-name":"".concat(a.baseDirectory).concat(d.imageFileName),part:d.part,service:a.service,onlyUnchecked:r.value,"show-number":a.showNumber,"show-items-count":a.showItemsCount,onUpdate:o},{default:e(()=>[s(i(d.title),1)]),_:2},1032,["image-file-name","part","service","onlyUnchecked","show-number","show-items-count"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1}))}});export{ae as _};
