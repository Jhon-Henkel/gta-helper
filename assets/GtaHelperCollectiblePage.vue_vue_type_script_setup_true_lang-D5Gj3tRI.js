import{_ as A}from"./GtaHelperPage.vue_vue_type_script_setup_true_lang-DcCiZJlX.js";import{_ as P}from"./GtaHelperHeader.vue_vue_type_script_setup_true_lang-BLF_I5xL.js";import{_ as V}from"./GtaHelperCard.vue_vue_type_script_setup_true_lang-B1iZcR8C.js";import{d as F,p as g,q as U,o as f,g as w,a as l,w as e,u as t,I,r as G,s as p,b as s,t as i,v,i as x,l as q,F as N,h as D,c as b,x as T,j,y as B,e as z,z as $,A as H,_ as L,m as O,n as M}from"./index-D6XUDYzu.js";const J={class:"ion-padding",slot:"content"},K=F({__name:"GtaHelperCollectiblePartView",props:{part:{type:String,required:!0},imageFileName:{type:String,required:!0},service:{type:Object,required:!0},onlyUnchecked:{type:Boolean,required:!1,default:!1},showNumber:{type:Boolean,required:!1,default:!0},showItemsCount:{type:Boolean,required:!1,default:!0}},emits:["update"],setup(a,{emit:h}){const d=a,C=h,r=g(0),o=g(d.service.getItemsPart(d.part));function _(c){o.value.forEach(u=>{u.number===c.number&&(u.collected=!u.collected)}),y()}function k(c){o.value.forEach(u=>{u.collected=c}),y()}function y(){d.service.updateItemsPart(d.part,o.value),m(),C("update",o.value)}function m(){r.value=0,o.value.forEach(c=>{c.collected&&r.value++})}return U(()=>{m()}),(c,u)=>(f(),w(N,null,[l(t(x),{slot:"header",color:"light"},{default:e(()=>[l(t(I),{slot:"start"},{default:e(()=>[G(c.$slots,"default",{},void 0,!0)]),_:3}),p(l(t(I),null,{default:e(()=>[s(i(r.value)+"/"+i(o.value.length),1)]),_:1},512),[[v,a.showItemsCount]])]),_:3}),q("div",J,[(f(!0),w(N,null,D(o.value,(n,E)=>p((f(),b(t(z),{key:E},{default:e(()=>[l(t(x),null,{default:e(()=>{var S;return[l(t(T),{slot:"start",checked:n.collected,onIonChange:X=>_(n)},null,8,["checked","onIonChange"]),p(l(t(j),{src:(S=n.imageFileName)!=null?S:"",class:"item-image"},null,8,["src"]),[[v,n.imageFileName]]),l(t(I),null,{default:e(()=>[a.showNumber?(f(),b(t(I),{key:0},{default:e(()=>[s(i(n.number)+" ",1),p(l(t(B),null,{default:e(()=>[s(" - "+i(n.description),1)]),_:2},1536),[[v,n.description.length>0]])]),_:2},1024)):(f(),b(t(I),{key:1},{default:e(()=>[p(l(t(B),null,{default:e(()=>[s(i(n.description),1)]),_:2},1536),[[v,n.description.length>0]])]),_:2},1024))]),_:2},1024)]}),_:2},1024)]),_:2},1024)),[[v,!a.onlyUnchecked||a.onlyUnchecked&&!n.collected]])),128)),p(l(t($),{color:"primary",expand:"block",fill:"outline",class:"ion-padding-top",onClick:u[0]||(u[0]=n=>k(!0))},{default:e(()=>[s(" Marcar todos ")]),_:1},512),[[v,r.value<o.value.length]]),p(l(t($),{color:"danger",expand:"block",fill:"outline",class:H(r.value<o.value.length?"":"ion-padding-top"),onClick:u[1]||(u[1]=n=>k(!1))},{default:e(()=>[s(" Desmarcar todos ")]),_:1},8,["class"]),[[v,r.value>0]])])],64))}}),Q=L(K,[["__scopeId","data-v-6519d1ad"]]),R=["src"],W={class:"ion-text-end"},le=F({__name:"GtaHelperCollectiblePage",props:{totalItems:{type:Number,required:!0},baseDirectory:{type:String,required:!0},service:{type:Object,required:!0},items:{type:Array,required:!0},headerTitle:{type:String,required:!0},showNumber:{type:Boolean,required:!1,default:!0},mapImageFileName:{type:String,required:!0},showItemsCount:{type:Boolean,required:!1,default:!0},itemEnum:{type:String,required:!0}},setup(a){const h=a,d=g(),C=g(),r=g(!0),o=g("");function _(){d.value=h.service.getSumOfCollectedItems(h.itemEnum),C.value=parseInt(String(d.value/h.totalItems*100))}return U(()=>{_(),o.value="".concat(h.mapImageFileName,"?t=").concat(Date.now())}),(k,y)=>(f(),b(A,null,{header:e(()=>[l(P,{title:a.headerTitle},null,8,["title"])]),content:e(()=>[l(V,null,{title:e(()=>[s(" Coletado ")]),subtitle:e(()=>[s(i(d.value)+"/"+i(a.totalItems)+" ("+i(C.value)+"%) ",1)]),_:1}),q("iframe",{src:o.value,width:"100%",height:"300px",loading:"lazy",allowfullscreen:""},null,8,R),q("div",W,[l(t($),{fill:"clear",onClick:y[0]||(y[0]=m=>r.value=!r.value)},{default:e(()=>[s(i(r.value?"Todos":"Somente NÃ£o Coletados"),1)]),_:1})]),l(t(O),null,{default:e(()=>[(f(!0),w(N,null,D(a.items,(m,c)=>(f(),b(t(M),{key:c,value:m.accordion},{default:e(()=>[l(Q,{"image-file-name":"".concat(a.baseDirectory).concat(m.imageFileName),part:m.part,service:a.service,onlyUnchecked:r.value,"show-number":a.showNumber,"show-items-count":a.showItemsCount,onUpdate:_},{default:e(()=>[s(i(m.title),1)]),_:2},1032,["image-file-name","part","service","onlyUnchecked","show-number","show-items-count"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1}))}});export{le as _};
