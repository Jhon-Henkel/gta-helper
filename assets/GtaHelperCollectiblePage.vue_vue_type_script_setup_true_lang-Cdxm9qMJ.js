import{_ as E}from"./GtaHelperPage.vue_vue_type_script_setup_true_lang-B2uB82o2.js";import{_ as O}from"./GtaHelperHeader.vue_vue_type_script_setup_true_lang--EbmmsEC.js";import{_ as V}from"./GtaHelperCard.vue_vue_type_script_setup_true_lang-DgvW-zEY.js";import{d as U,p as b,q as D,o as f,g as k,a as l,w as t,u as a,I as y,r as G,b as i,t as d,i as $,l as F,j as x,F as C,h as P,c as _,s as p,v as L,x as h,y as B,e as j,z as N,A as H,m as z,n as J}from"./index-DflHJGnt.js";import{_ as T}from"./_plugin-vue_export-helper-DX78vqoQ.js";const Y=31536e6,le={getStorageItem:function(e){const s=localStorage.getItem(e);if(s){const o=JSON.parse(s);if(new Date().getTime()<o.expiry)return o.value;this.removeStorageItems(e)}return null},setStorageItem:function(e,s,o=null){const g=o!=null?o:Y;localStorage.setItem(e,JSON.stringify({value:s,expiry:new Date().getTime()+g}))},removeStorageItems:function(...e){e.forEach(s=>{localStorage.removeItem(s)})}},K={class:"ion-padding",slot:"content"},Q=U({__name:"GtaHelperCollectiblePartView",props:{part:{type:String,required:!0},imageFileName:{type:String,required:!0},service:{type:Object,required:!0},onlyUnchecked:{type:Boolean,required:!1,default:!1},showNumber:{type:Boolean,required:!1,default:!0}},emits:["update"],setup(e,{emit:s}){const o=e,g=s,u=b(0),n=b(o.service.getItemsPart(o.part));function w(v){n.value.forEach(c=>{c.number===v.number&&(c.collected=!c.collected)}),m()}function I(v){n.value.forEach(c=>{c.collected=v}),m()}function m(){o.service.updateItemsPart(o.part,n.value),S(),g("update",n.value)}function S(){u.value=0,n.value.forEach(v=>{v.collected&&u.value++})}return D(()=>{S()}),(v,c)=>(f(),k(C,null,[l(a($),{slot:"header",color:"light"},{default:t(()=>[l(a(y),{slot:"start"},{default:t(()=>[G(v.$slots,"default",{},void 0,!0)]),_:3}),l(a(y),null,{default:t(()=>[i(d(u.value)+"/"+d(n.value.length),1)]),_:1})]),_:3}),F("div",K,[l(a(x),{src:e.imageFileName},null,8,["src"]),(f(!0),k(C,null,P(n.value,(r,A)=>(f(),_(a(j),{key:A},{default:t(()=>[p(l(a($),null,{default:t(()=>{var q;return[l(a(L),{slot:"start",checked:r.collected,onIonChange:X=>w(r)},null,8,["checked","onIonChange"]),p(l(a(x),{src:(q=r.imageFileName)!=null?q:"",class:"item-image"},null,8,["src"]),[[h,r.imageFileName]]),l(a(y),null,{default:t(()=>[e.showNumber?(f(),_(a(y),{key:0},{default:t(()=>[i(d(r.number)+" ",1),p(l(a(B),null,{default:t(()=>[i(" - "+d(r.description),1)]),_:2},1536),[[h,r.description.length>0]])]),_:2},1024)):(f(),_(a(y),{key:1},{default:t(()=>[p(l(a(B),null,{default:t(()=>[i(d(r.description),1)]),_:2},1536),[[h,r.description.length>0]])]),_:2},1024))]),_:2},1024)]}),_:2},1536),[[h,!e.onlyUnchecked||e.onlyUnchecked&&!r.collected]])]),_:2},1024))),128)),p(l(a(N),{color:"primary",expand:"block",fill:"outline",class:"ion-padding-top",onClick:c[0]||(c[0]=r=>I(!0))},{default:t(()=>[i(" Marcar todos ")]),_:1},512),[[h,u.value<n.value.length]]),p(l(a(N),{color:"danger",expand:"block",fill:"outline",class:H(u.value<n.value.length?"":"ion-padding-top"),onClick:c[1]||(c[1]=r=>I(!1))},{default:t(()=>[i(" Desmarcar todos ")]),_:1},8,["class"]),[[h,u.value>0]])])],64))}}),R=T(Q,[["__scopeId","data-v-3a716307"]]),W={class:"ion-text-end"},oe=U({__name:"GtaHelperCollectiblePage",props:{totalItems:{type:Number,required:!0},baseDirectory:{type:String,required:!0},service:{type:Object,required:!0},items:{type:Array,required:!0},headerTitle:{type:String,required:!0},showNumber:{type:Boolean,required:!1,default:!0}},setup(e){const s=e,o=b(),g=b(),u=b(!0);function n(){o.value=s.service.getSumOfCollectedItems(),g.value=parseInt(String(o.value/s.totalItems*100))}return D(()=>{n()}),(w,I)=>(f(),_(E,null,{header:t(()=>[l(O,{title:e.headerTitle},null,8,["title"])]),content:t(()=>[l(V,null,{title:t(()=>[i(" Coletado ")]),subtitle:t(()=>[i(d(o.value)+"/"+d(e.totalItems)+" ("+d(g.value)+"%) ",1)]),_:1}),F("div",W,[l(a(N),{fill:"clear",onClick:I[0]||(I[0]=m=>u.value=!u.value)},{default:t(()=>[i(d(u.value?"Todos":"Somente NÃ£o Coletados"),1)]),_:1})]),l(a(z),null,{default:t(()=>[(f(!0),k(C,null,P(e.items,(m,S)=>(f(),_(a(J),{key:S,value:m.accordion},{default:t(()=>[l(R,{"image-file-name":"".concat(e.baseDirectory).concat(m.imageFileName),part:m.part,service:e.service,onlyUnchecked:u.value,"show-number":e.showNumber,onUpdate:n},{default:t(()=>[i(d(m.title),1)]),_:2},1032,["image-file-name","part","service","onlyUnchecked","show-number"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1}))}});export{oe as _,le as u};
