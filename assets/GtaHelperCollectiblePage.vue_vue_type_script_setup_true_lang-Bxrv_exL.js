import{_ as E}from"./GtaHelperPage.vue_vue_type_script_setup_true_lang-89ZrDv_5.js";import{_ as O}from"./GtaHelperHeader.vue_vue_type_script_setup_true_lang-BtlexSDd.js";import{_ as V}from"./GtaHelperCard.vue_vue_type_script_setup_true_lang-Baj1K-yW.js";import{d as B,p as y,q as U,o as f,g as k,a as l,w as t,u as a,I,r as G,b as i,t as d,i as $,l as D,j as A,F as C,h as F,c as S,s as v,v as L,x as h,y as x,e as j,z as N,A as H,m as z,n as J}from"./index-CNO90bci.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Y=31536e6,le={getStorageItem:function(e){const n=localStorage.getItem(e);if(n){const o=JSON.parse(n);if(new Date().getTime()<o.expiry)return o.value;this.removeStorageItems(e)}return null},setStorageItem:function(e,n,o=null){const p=o!=null?o:Y;localStorage.setItem(e,JSON.stringify({value:n,expiry:new Date().getTime()+p}))},removeStorageItems:function(...e){e.forEach(n=>{localStorage.removeItem(n)})}},oe={sanAndreas:{collectibles:{graffiti:"./public/assets/images/sanAndreas/collectibles/graffiti/",photos:"./public/assets/images/sanAndreas/collectibles/photos/",horseShoes:"./public/assets/images/sanAndreas/collectibles/horse-shoes/",oysters:"./public/assets/images/sanAndreas/collectibles/oysters/",vehicles:"./public/assets/images/sanAndreas/collectibles/vehicles/"}}},K={class:"ion-padding",slot:"content"},Q=B({__name:"GtaHelperCollectiblePartView",props:{part:{type:String,required:!0},imageFileName:{type:String,required:!0},service:{type:Object,required:!0},onlyUnchecked:{type:Boolean,required:!1,default:!1},showNumber:{type:Boolean,required:!1,default:!0}},emits:["update"],setup(e,{emit:n}){const o=e,p=n,c=y(0),s=y(o.service.getItemsPart(o.part));function w(g){s.value.forEach(u=>{u.number===g.number&&(u.collected=!u.collected)}),m()}function b(g){s.value.forEach(u=>{u.collected=g}),m()}function m(){o.service.updateItemsPart(o.part,s.value),_(),p("update",s.value)}function _(){c.value=0,s.value.forEach(g=>{g.collected&&c.value++})}return U(()=>{_()}),(g,u)=>(f(),k(C,null,[l(a($),{slot:"header",color:"light"},{default:t(()=>[l(a(I),{slot:"start"},{default:t(()=>[G(g.$slots,"default",{},void 0,!0)]),_:3}),l(a(I),null,{default:t(()=>[i(d(c.value)+"/"+d(s.value.length),1)]),_:1})]),_:3}),D("div",K,[l(a(A),{src:e.imageFileName},null,8,["src"]),(f(!0),k(C,null,F(s.value,(r,P)=>(f(),S(a(j),{key:P},{default:t(()=>[v(l(a($),null,{default:t(()=>{var q;return[l(a(L),{slot:"start",checked:r.collected,onIonChange:X=>w(r)},null,8,["checked","onIonChange"]),v(l(a(A),{src:(q=r.imageFileName)!=null?q:"",class:"item-image"},null,8,["src"]),[[h,r.imageFileName]]),l(a(I),null,{default:t(()=>[e.showNumber?(f(),S(a(I),{key:0},{default:t(()=>[i(d(r.number)+" ",1),v(l(a(x),null,{default:t(()=>[i(" - "+d(r.description),1)]),_:2},1536),[[h,r.description.length>0]])]),_:2},1024)):(f(),S(a(I),{key:1},{default:t(()=>[v(l(a(x),null,{default:t(()=>[i(d(r.description),1)]),_:2},1536),[[h,r.description.length>0]])]),_:2},1024))]),_:2},1024)]}),_:2},1536),[[h,!e.onlyUnchecked||e.onlyUnchecked&&!r.collected]])]),_:2},1024))),128)),v(l(a(N),{color:"primary",expand:"block",fill:"outline",class:"ion-padding-top",onClick:u[0]||(u[0]=r=>b(!0))},{default:t(()=>[i(" Marcar todos ")]),_:1},512),[[h,c.value<s.value.length]]),v(l(a(N),{color:"danger",expand:"block",fill:"outline",class:H(c.value<s.value.length?"":"ion-padding-top"),onClick:u[1]||(u[1]=r=>b(!1))},{default:t(()=>[i(" Desmarcar todos ")]),_:1},8,["class"]),[[h,c.value>0]])])],64))}}),R=T(Q,[["__scopeId","data-v-d7a3f351"]]),W={class:"ion-text-end"},se=B({__name:"GtaHelperCollectiblePage",props:{totalItems:{type:Number,required:!0},baseDirectory:{type:String,required:!0},service:{type:Object,required:!0},items:{type:Array,required:!0},headerTitle:{type:String,required:!0},showNumber:{type:Boolean,required:!1,default:!0}},setup(e){const n=e,o=y(),p=y(),c=y(!0);function s(){o.value=n.service.getSumOfCollectedItems(),p.value=parseInt(String(o.value/n.totalItems*100))}return U(()=>{s()}),(w,b)=>(f(),S(E,null,{header:t(()=>[l(O,{title:e.headerTitle},null,8,["title"])]),content:t(()=>[l(V,null,{title:t(()=>[i(" Coletado ")]),subtitle:t(()=>[i(d(o.value)+"/"+d(e.totalItems)+" ("+d(p.value)+"%) ",1)]),_:1}),D("div",W,[l(a(N),{fill:"clear",onClick:b[0]||(b[0]=m=>c.value=!c.value)},{default:t(()=>[i(d(c.value?"Todos":"Somente NÃ£o Coletados"),1)]),_:1})]),l(a(z),null,{default:t(()=>[(f(!0),k(C,null,F(e.items,(m,_)=>(f(),S(a(J),{key:_,value:m.accordion},{default:t(()=>[l(R,{"image-file-name":"".concat(e.baseDirectory).concat(m.imageFileName),part:m.part,service:e.service,onlyUnchecked:c.value,"show-number":e.showNumber,onUpdate:s},{default:t(()=>[i(d(m.title),1)]),_:2},1032,["image-file-name","part","service","onlyUnchecked","show-number"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1}))}});export{se as _,oe as d,le as u};
